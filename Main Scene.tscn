[gd_scene load_steps=13 format=2]

[ext_resource path="res://Horse.tscn" type="PackedScene" id=1]
[ext_resource path="res://Player.gd" type="Script" id=2]
[ext_resource path="res://collision.gd" type="Script" id=3]
[ext_resource path="res://NavigationMeshInstance.gd" type="Script" id=5]
[ext_resource path="res://CSGMesh2.tscn" type="PackedScene" id=6]

[sub_resource type="NavigationMesh" id=1]
vertices = PoolVector3Array( 31.7113, 0.680491, -22.6061, 37.7913, 0.680491, -22.6061, 37.7913, 0.680491, -31.3461, 30.3813, 0.680491, -31.3461, 0.931349, 0.680491, -31.3461, -6.47865, 0.680491, -31.3461, -13.3187, 0.680491, -15.1961, 31.3313, 0.680491, -22.2261, 31.7113, 0.680491, -22.6061, 30.3813, 0.680491, -31.3461, 22.9713, 0.680491, -31.3461, -21.1087, 0.680491, -23.3661, -21.1087, 0.680491, -15.1961, -14.2687, 0.680491, -15.1961, -13.8887, 0.680491, -31.3461, -21.1087, 0.680491, -31.3461, -21.1087, 0.680491, -23.3661, -21.1087, 0.680491, -23.3661, -14.2687, 0.680491, -15.1961, -13.3187, 0.680491, -15.1961, -6.47865, 0.680491, -31.3461, -13.8887, 0.680491, -31.3461, 31.3313, 0.680491, -15.1961, 31.3313, 0.680491, -22.2261, 22.9713, 0.680491, -31.3461, 15.5613, 0.680491, -31.3461, 31.3313, 0.680491, -15.1961, 15.5613, 0.680491, -31.3461, 8.34135, 0.680491, -31.3461, -13.3187, 0.680491, -15.1961, 8.34135, 0.680491, -31.3461, 0.931349, 0.680491, -31.3461, -13.3187, 0.680491, -15.1961, 39.6913, 4.18049, -13.8661, 39.6913, 4.18049, -21.4661, 32.4713, 4.18049, -21.4661, 32.4713, 4.18049, -13.8661, 39.6913, 4.18049, 17.1039, 39.6913, 4.18049, 9.50392, 32.4713, 4.18049, 9.50392, 32.4713, 4.18049, 17.1039, 32.4713, 4.18049, 32.6839, 32.4713, 4.18049, 40.4739, 39.6913, 4.18049, 40.4739, 39.6913, 4.18049, 32.6839, 39.6913, 4.18049, -6.07608, 39.6913, 4.18049, -13.8661, 32.4713, 4.18049, -13.8661, 32.4713, 4.18049, -6.07608, 32.4713, 4.18049, 24.8939, 32.4713, 4.18049, 32.6839, 39.6913, 4.18049, 32.6839, 39.6913, 4.18049, 24.8939, 39.6913, 4.18049, 1.71392, 39.6913, 4.18049, -6.07608, 32.4713, 4.18049, -6.07608, 32.4713, 4.18049, 1.71392, 32.4713, 4.18049, 17.1039, 32.4713, 4.18049, 24.8939, 39.6913, 4.18049, 24.8939, 39.6913, 4.18049, 17.1039, 39.6913, 4.18049, 9.50392, 39.6913, 4.18049, 1.71392, 32.4713, 4.18049, 1.71392, 32.4713, 4.18049, 9.50392, 37.7913, 0.680491, -14.8161, 37.7913, 0.680491, -21.2761, 32.6613, 0.680491, -21.2761, 32.6613, 0.680491, -14.8161, 37.7913, 0.680491, 11.5939, 37.7913, 0.680491, 5.13392, 32.6613, 0.680491, 5.13392, 32.6613, 0.680491, 11.5939, 32.6613, 0.680491, 24.8939, 32.6613, 0.680491, 31.5439, 37.7913, 0.680491, 31.5439, 37.7913, 0.680491, 24.8939, 37.7913, 0.680491, -8.16608, 37.7913, 0.680491, -14.8161, 32.6613, 0.680491, -14.8161, 32.6613, 0.680491, -8.16608, 32.6613, 0.680491, 18.2439, 32.6613, 0.680491, 24.8939, 37.7913, 0.680491, 24.8939, 37.7913, 0.680491, 18.2439, 37.7913, 0.680491, -1.51608, 37.7913, 0.680491, -8.16608, 32.6613, 0.680491, -8.16608, 32.6613, 0.680491, -1.51608, 32.6613, 0.680491, 11.5939, 32.6613, 0.680491, 18.2439, 37.7913, 0.680491, 18.2439, 37.7913, 0.680491, 11.5939, 37.7913, 0.680491, 5.13392, 37.7913, 0.680491, -1.51608, 32.6613, 0.680491, -1.51608, 32.6613, 0.680491, 5.13392, -21.1087, 0.680491, -3.98608, -21.1087, 0.680491, 7.22392, -17.8787, 0.680491, -3.79608, -14.6487, 0.680491, -14.8161, -14.2687, 0.680491, -15.1961, -21.1087, 0.680491, -15.1961, -21.1087, 0.680491, -15.1961, -21.1087, 0.680491, -3.98608, -17.8787, 0.680491, -3.79608, -14.6487, 0.680491, -14.8161, -6.09865, 0.680491, -9.11608, -8.18865, 0.680491, -2.46608, -10.0887, 0.680491, 4.37392, 11.9513, 0.680491, 4.37392, 12.7113, 0.680491, 4.37392, 31.3313, 0.680491, 4.37392, 31.3313, 0.680491, -5.50608, 11.9513, 0.680491, 4.37392, 12.7113, 0.680491, 4.37392, 31.3313, 0.680491, -5.50608, 31.3313, 0.680491, -15.1961, -6.09865, 0.680491, -10.4461, -6.09865, 0.680491, -9.11608, 31.3313, 0.680491, -15.1961, -13.3187, 0.680491, -15.1961, -6.09865, 0.680491, -10.4461, -7.23865, 5.68049, -9.49608, -7.23865, 5.68049, -10.0661, -8.94865, 5.68049, -10.8261, -8.94865, 5.68049, -10.8261, -12.7487, 5.68049, -13.4861, -13.6987, 5.68049, -13.6761, -16.5487, 5.68049, -3.98608, -10.0887, 5.68049, 0.19392, -7.23865, 5.68049, -9.49608, -25.0987, 5.68049, 25.0839, -24.3387, 5.68049, 26.0339, -18.6387, 5.68049, 29.2639, -15.7887, 5.68049, 19.5739, -22.2487, 5.68049, 15.3939, -22.2487, 5.68049, 15.3939, -15.7887, 5.68049, 19.5739, -12.9387, 5.68049, 9.88392, -19.3987, 5.68049, 5.70392, -19.3987, 5.68049, 5.70392, -12.9387, 5.68049, 9.88392, -10.0887, 5.68049, 0.19392, -16.5487, 5.68049, -3.98608, -7.42865, 0.680491, -9.68608, -13.5087, 0.680491, -13.4861, -15.4087, 0.680491, -7.02608, -10.2787, 0.680491, 0.0039196, -7.42865, 0.680491, -9.68608, -15.4087, 0.680491, -7.02608, -17.3087, 0.680491, -0.56608, -13.1287, 0.680491, 9.69392, -19.2087, 0.680491, 5.89392, -21.1087, 0.680491, 12.3539, -21.1087, 0.680491, 19.9539, -15.9787, 0.680491, 19.3839, -21.1087, 0.680491, 19.9539, -21.1087, 0.680491, 27.7439, -18.8287, 0.680491, 28.8839, -15.9787, 0.680491, 19.3839, -10.2787, 0.680491, 0.0039196, -17.3087, 0.680491, -0.56608, -19.2087, 0.680491, 5.89392, -13.1287, 0.680491, 9.69392, 6.82135, 0.680491, 17.4839, 9.10135, 0.680491, 11.5939, 11.1913, 0.680491, 5.32392, -10.0887, 0.680491, 4.37392, -10.0887, 0.680491, 4.37392, -12.5587, 0.680491, 12.3539, -14.8387, 0.680491, 20.3339, 6.82135, 0.680491, 18.6239, 6.82135, 0.680491, 17.4839, 11.1913, 0.680491, 5.32392, 11.9513, 0.680491, 4.37392, -10.0887, 0.680491, 4.37392, -14.8387, 0.680491, 20.3339, 9.67135, 0.680491, 20.3339, 6.82135, 0.680491, 18.6239, 15.7513, 0.680491, 7.03392, 13.4713, 0.680491, 13.1139, 11.3813, 0.680491, 19.1939, 31.3313, 0.680491, 20.3339, 31.3313, 0.680491, 12.3539, 31.3313, 0.680491, 4.37392, 12.7113, 0.680491, 4.37392, 15.1813, 0.680491, 5.70392, 31.3313, 0.680491, 4.37392, 15.1813, 0.680491, 5.70392, 15.7513, 0.680491, 6.27392, 31.3313, 0.680491, 4.37392, 15.7513, 0.680491, 6.27392, 15.7513, 0.680491, 7.03392, 31.3313, 0.680491, 12.3539, 11.3813, 0.680491, 19.1939, 10.6213, 0.680491, 20.3339, 31.3313, 0.680491, 20.3339, 7.96135, 5.68049, 17.8639, 9.67135, 5.68049, 19.0039, 10.2413, 5.68049, 18.8139, 12.1413, 5.68049, 12.9239, 10.2413, 5.68049, 11.9739, 14.4213, 5.68049, 7.22392, 14.4213, 5.68049, 6.65392, 12.3313, 5.68049, 5.70392, 10.2413, 5.68049, 11.9739, 12.1413, 5.68049, 12.9239, 8.34135, 0.680491, 17.4839, 8.34135, 0.680491, 18.0539, 10.0513, 0.680491, 18.6239, 11.9513, 0.680491, 12.7339, 10.4313, 0.680491, 11.7839, 14.2313, 0.680491, 7.03392, 12.5213, 0.680491, 6.08392, 10.4313, 0.680491, 11.7839, 11.9513, 0.680491, 12.7339, 31.3313, 0.680491, 30.7839, 31.3313, 0.680491, 20.3339, 10.6213, 0.680491, 20.3339, 31.3313, 0.680491, 30.7839, 10.6213, 0.680491, 20.3339, 9.67135, 0.680491, 20.3339, -17.4987, 0.680491, 29.6439, -18.2587, 0.680491, 30.7839, 9.67135, 0.680491, 20.3339, -14.8387, 0.680491, 20.3339, -17.4987, 0.680491, 29.6439, -19.2087, 0.680491, 30.5939, -21.1087, 0.680491, 29.2639, -21.1087, 0.680491, 31.5439, -18.2587, 0.680491, 30.7839, -19.2087, 0.680491, 30.5939, -21.1087, 0.680491, 31.5439, -14.6487, 0.680491, 31.5439, 31.3313, 0.680491, 30.7839, -18.2587, 0.680491, 30.7839, 5.11135, 0.680491, 31.5439, 11.5713, 0.680491, 31.5439, 24.6813, 0.680491, 31.5439, 31.3313, 0.680491, 31.5439, 31.3313, 0.680491, 30.7839, -18.2587, 0.680491, 30.7839, -14.6487, 0.680491, 31.5439, -7.99865, 0.680491, 31.5439, 18.2213, 0.680491, 31.5439, 24.6813, 0.680491, 31.5439, 31.3313, 0.680491, 30.7839, -18.2587, 0.680491, 30.7839, -7.99865, 0.680491, 31.5439, -1.53865, 0.680491, 31.5439, 11.5713, 0.680491, 31.5439, 18.2213, 0.680491, 31.5439, 31.3313, 0.680491, 30.7839, -18.2587, 0.680491, 30.7839, -1.53865, 0.680491, 31.5439, 5.11135, 0.680491, 31.5439 )
polygons = [ PoolIntArray( 1, 0, 2 ), PoolIntArray( 2, 0, 3 ), PoolIntArray( 4, 6, 5 ), PoolIntArray( 8, 7, 9 ), PoolIntArray( 9, 7, 10 ), PoolIntArray( 12, 11, 13 ), PoolIntArray( 16, 15, 14 ), PoolIntArray( 18, 17, 19 ), PoolIntArray( 19, 17, 21 ), PoolIntArray( 19, 21, 20 ), PoolIntArray( 23, 22, 24 ), PoolIntArray( 24, 22, 25 ), PoolIntArray( 27, 26, 28 ), PoolIntArray( 28, 26, 29 ), PoolIntArray( 32, 31, 30 ), PoolIntArray( 36, 35, 33 ), PoolIntArray( 33, 35, 34 ), PoolIntArray( 40, 39, 37 ), PoolIntArray( 37, 39, 38 ), PoolIntArray( 44, 43, 41 ), PoolIntArray( 41, 43, 42 ), PoolIntArray( 48, 47, 45 ), PoolIntArray( 45, 47, 46 ), PoolIntArray( 52, 51, 49 ), PoolIntArray( 49, 51, 50 ), PoolIntArray( 56, 55, 53 ), PoolIntArray( 53, 55, 54 ), PoolIntArray( 60, 59, 57 ), PoolIntArray( 57, 59, 58 ), PoolIntArray( 64, 63, 61 ), PoolIntArray( 61, 63, 62 ), PoolIntArray( 68, 67, 65 ), PoolIntArray( 65, 67, 66 ), PoolIntArray( 72, 71, 69 ), PoolIntArray( 69, 71, 70 ), PoolIntArray( 76, 75, 73 ), PoolIntArray( 73, 75, 74 ), PoolIntArray( 80, 79, 77 ), PoolIntArray( 77, 79, 78 ), PoolIntArray( 84, 83, 81 ), PoolIntArray( 81, 83, 82 ), PoolIntArray( 88, 87, 85 ), PoolIntArray( 85, 87, 86 ), PoolIntArray( 92, 91, 89 ), PoolIntArray( 89, 91, 90 ), PoolIntArray( 96, 95, 93 ), PoolIntArray( 93, 95, 94 ), PoolIntArray( 99, 98, 97 ), PoolIntArray( 100, 102, 101 ), PoolIntArray( 104, 103, 105 ), PoolIntArray( 105, 103, 106 ), PoolIntArray( 108, 107, 109 ), PoolIntArray( 109, 107, 110 ), PoolIntArray( 111, 113, 112 ), PoolIntArray( 115, 114, 116 ), PoolIntArray( 116, 114, 117 ), PoolIntArray( 117, 114, 119 ), PoolIntArray( 117, 119, 118 ), PoolIntArray( 120, 122, 121 ), PoolIntArray( 125, 124, 123 ), PoolIntArray( 127, 126, 128 ), PoolIntArray( 128, 126, 131 ), PoolIntArray( 128, 131, 129 ), PoolIntArray( 129, 131, 130 ), PoolIntArray( 133, 132, 134 ), PoolIntArray( 134, 132, 135 ), PoolIntArray( 135, 132, 136 ), PoolIntArray( 140, 139, 137 ), PoolIntArray( 137, 139, 138 ), PoolIntArray( 144, 143, 141 ), PoolIntArray( 141, 143, 142 ), PoolIntArray( 146, 145, 147 ), PoolIntArray( 151, 150, 148 ), PoolIntArray( 148, 150, 149 ), PoolIntArray( 155, 154, 156 ), PoolIntArray( 156, 154, 152 ), PoolIntArray( 152, 154, 153 ), PoolIntArray( 158, 157, 159 ), PoolIntArray( 159, 157, 160 ), PoolIntArray( 162, 161, 163 ), PoolIntArray( 163, 161, 164 ), PoolIntArray( 166, 165, 167 ), PoolIntArray( 167, 165, 168 ), PoolIntArray( 170, 169, 171 ), PoolIntArray( 171, 169, 173 ), PoolIntArray( 171, 173, 172 ), PoolIntArray( 176, 175, 174 ), PoolIntArray( 179, 178, 177 ), PoolIntArray( 181, 180, 182 ), PoolIntArray( 182, 180, 184 ), PoolIntArray( 182, 184, 183 ), PoolIntArray( 187, 186, 185 ), PoolIntArray( 190, 189, 188 ), PoolIntArray( 192, 191, 193 ), PoolIntArray( 193, 191, 194 ), PoolIntArray( 197, 196, 195 ), PoolIntArray( 199, 198, 200 ), PoolIntArray( 200, 198, 201 ), PoolIntArray( 201, 198, 202 ), PoolIntArray( 204, 203, 205 ), PoolIntArray( 205, 203, 206 ), PoolIntArray( 206, 203, 207 ), PoolIntArray( 209, 208, 210 ), PoolIntArray( 210, 208, 211 ), PoolIntArray( 211, 208, 212 ), PoolIntArray( 216, 215, 213 ), PoolIntArray( 213, 215, 214 ), PoolIntArray( 219, 218, 217 ), PoolIntArray( 221, 220, 222 ), PoolIntArray( 222, 220, 223 ), PoolIntArray( 223, 220, 224 ), PoolIntArray( 227, 226, 225 ), PoolIntArray( 230, 229, 228 ), PoolIntArray( 232, 231, 233 ), PoolIntArray( 233, 231, 234 ), PoolIntArray( 238, 237, 235 ), PoolIntArray( 235, 237, 236 ), PoolIntArray( 241, 240, 239 ), PoolIntArray( 244, 243, 242 ), PoolIntArray( 247, 246, 245 ), PoolIntArray( 250, 249, 248 ), PoolIntArray( 253, 252, 251 ), PoolIntArray( 256, 255, 254 ) ]
sample_partition_type = 1
cell_size = 0.19

[sub_resource type="CubeMesh" id=2]

[sub_resource type="CapsuleShape" id=3]

[sub_resource type="CapsuleMesh" id=4]

[sub_resource type="BoxShape" id=5]

[sub_resource type="Animation" id=6]
resource_name = "New Anim"
length = 2.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1, 2 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector3( 16.5111, 1.19822, 6.79386 ), Vector3( 30.6982, 1.19822, 11.1923 ), Vector3( 16.5111, 1.19822, 6.79386 ) ]
}

[sub_resource type="Animation" id=7]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 16.7533, 1.19822, 6.73881 ) ]
}

[node name="Spatial" type="Spatial" groups=["RootScene"]]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="."]
navmesh = SubResource( 1 )
script = ExtResource( 5 )
object = ExtResource( 6 )

[node name="CSGMesh" type="CSGMesh" parent="NavigationMeshInstance"]
transform = Transform( 29.9135, 0, 0, 0, 0.348698, 0, 0, 0, 31.9471, 8.37613, -0.0843544, 0.0310287 )
use_collision = true
mesh = SubResource( 2 )

[node name="CSGMesh2" type="CSGMesh" parent="NavigationMeshInstance"]
transform = Transform( -1.37391e-06, 0, -4.12327, 0, 2.05047, 0, 31.4313, 0, -1.80234e-07, 36.1831, 1.7632, 9.53017 )
use_collision = true
mesh = SubResource( 2 )

[node name="CSGMesh3" type="CSGMesh" parent="NavigationMeshInstance"]
transform = Transform( -5.90805, 0, -3.58678, 0, 2.98499, 0, 20.0871, 0, -2.23392, -16.1738, 2.41549, 7.75508 )
use_collision = true
mesh = SubResource( 2 )

[node name="CSGMesh4" type="CSGMesh" parent="NavigationMeshInstance"]
transform = Transform( -2.38334, 0, -1.44693, 0, 2.98499, 0, 6.601, 0, -0.73411, 11.2396, 2.41549, 12.389 )
use_collision = true
mesh = SubResource( 2 )

[node name="Timer" type="Timer" parent="NavigationMeshInstance"]
process_mode = 0
wait_time = 3.008
one_shot = true
autostart = true

[node name="Spatial" type="Spatial" parent="NavigationMeshInstance"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.83232, 0, 0.139698 )

[node name="Horse" parent="." instance=ExtResource( 1 )]
player_path = NodePath("../Player")

[node name="Player" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 22.0803, 2.14134, 22.2002 )
script = ExtResource( 2 )

[node name="CollisionShape" type="CollisionShape" parent="Player"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, -1.90735e-06 )
shape = SubResource( 3 )

[node name="MeshInstance" type="MeshInstance" parent="Player"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, -1.90735e-06 )
mesh = SubResource( 4 )

[node name="Camera" type="Camera" parent="Player"]
transform = Transform( 1, -1.75208e-08, -3.66507e-09, 1.75208e-08, 0.916153, 0.400829, -3.66507e-09, -0.400829, 0.916153, -16.2565, 14.9188, 33.7237 )

[node name="Spatial" type="KinematicBody" parent="."]
transform = Transform( 0.964649, 0, -0.263536, 0, 1, 0, 0.263536, 0, 0.964649, 16.7533, 1.19822, 6.73881 )
script = ExtResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="Spatial"]
shape = SubResource( 5 )

[node name="CSGBox" type="CSGBox" parent="Spatial/CollisionShape"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )

[node name="NavigationObstacle" type="NavigationObstacle" parent="Spatial"]

[node name="AnimationPlayer" type="AnimationPlayer" parent="Spatial"]
"anims/New Anim" = SubResource( 6 )
anims/RESET = SubResource( 7 )

[connection signal="timeout" from="NavigationMeshInstance/Timer" to="NavigationMeshInstance" method="_on_Timer_timeout"]
